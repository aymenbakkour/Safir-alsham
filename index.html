<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>Ø³ÙÙŠØ± Ø§Ù„Ø´Ø§Ù…</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  <style>
    body { background: #f4f4f4; font-family: "Tahoma", sans-serif; }
    .section-box { background: white; padding: 1rem; border-radius: 0.5rem; margin-bottom: 1.25rem; box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1),0 2px 4px -1px rgba(0,0,0,0.06); }

    .form-control { width: 100%; padding: 0.5rem; margin-top: 0.5rem; border-radius: 0.375rem; border:1px solid #d1d5db; box-sizing:border-box; font-size:16px; background-color:#fff; outline:none; transition:border-color 0.15s ease-in-out,box-shadow 0.15s ease-in-out;}
    .form-control:focus { border-color:transparent; box-shadow:0 0 0 2px rgba(59,130,246,0.5); }
    .btn { width:100%; padding:0.75rem 1rem; border:none; border-radius:0.375rem; font-weight:600; color:white; cursor:pointer; transition:background-color 0.15s ease-in-out,box-shadow 0.15s ease-in-out; outline:none;}
    .btn-primary { background-color:#2563eb; } .btn-primary:hover { background-color:#1d4ed8; }
    .btn-success { background-color:#10b981; } .btn-success:hover { background-color:#059669; }
    .btn-danger { background-color:#ef4444; } .btn-danger:hover { background-color:#dc2626; }
    .btn-indigo { background-color:#4f46e5; } .btn-indigo:hover { background-color:#4338ca; }
    .btn-sm { padding:0.25rem 0.5rem; font-size:0.875rem; }
    .btn:disabled { opacity:0.6; cursor:not-allowed; }

    .container-wrapper { max-width:64rem; margin:auto; padding-top:0.75rem; padding-bottom:0.75rem; }
    .mb-4 { margin-bottom:1rem; } .mt-4 { margin-top:1rem; }

    /* Products */
    .category-header { background:#e9ecef; padding:0.5rem; border-radius:0.375rem; cursor:pointer; font-weight:700; display:flex; justify-content:space-between; align-items:center; }
    .product-row { display:flex; justify-content:space-between; align-items:center; padding:0.5rem; border-bottom:1px solid #e5e7eb; }
    .product-row:last-child { border-bottom:none; }
    .product-name { flex:1; font-weight:500; }
    .product-price { margin-left:1rem; color:#4b5563; }

    /* Ø²Ø± Ø¥Ø¶Ø§ÙØ© Ø¯Ø§Ø¦Ø±ÙŠ */
    .add-btn-circle {
      width:2rem; height:2rem; border-radius:50%; background:#0d6efd; color:white; border:none; font-size:1.25rem; display:flex; align-items:center; justify-content:center; cursor:pointer;
    }
    .add-btn-circle:hover { background:#0b5ed7; }

    /* Offer items */
    .offer-item { display:flex; justify-content:space-between; padding:0.5rem; border-bottom:1px solid #e5e7eb; }
    .offer-item:last-child { border-bottom:none; }
    .offer-item button { width:1.5rem; height:1.5rem; padding:0; font-size:0.875rem; }

    /* Preview */
    #preview { border:2px solid #2563eb; padding:1rem; border-radius:1rem; background:white; text-align:center; min-height:150px; display:flex; flex-direction:column; justify-content:center; align-items:center; }
    .preview-title { font-size:1.5rem; font-weight:bold; color:#0d6efd; }
  </style>
</head>
<body class="bg-gray-100 p-3">
  <div class="container-wrapper">

    <h2 class="text-2xl font-extrabold text-center mb-4 text-gray-800">Ø³ÙÙŠØ± Ø§Ù„Ø´Ø§Ù… â€“ Ø·Ù„Ø¨ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</h2>

    <!-- Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬ -->
    <div class="section-box">
      <h4 class="text-xl font-bold mb-4">Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬ Ø¬Ø¯ÙŠØ¯</h4>
      <form id="productForm" class="grid grid-cols-1 md-grid-cols-2 gap-4">
        <input id="pName" class="form-control" type="text" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬">
        <select id="pCat" class="form-control">
          <option value="Ù…ÙˆØ§Ø¯ ØºØ°Ø§Ø¦ÙŠØ©">Ù…ÙˆØ§Ø¯ ØºØ°Ø§Ø¦ÙŠØ©</option>
          <option value="Ù‡Ø¯Ø§ÙŠØ§">Ù‡Ø¯Ø§ÙŠØ§</option>
          <option value="Ø®Ø¯Ù…Ø©">Ø®Ø¯Ù…Ø©</option>
          <option value="Ø±ØµÙŠØ¯ Ù…ÙˆØ¨Ø§ÙŠÙ„">Ø±ØµÙŠØ¯ Ù…ÙˆØ¨Ø§ÙŠÙ„</option>
        </select>
        <input id="pPrice" class="form-control" type="number" placeholder="Ø§Ù„Ø³Ø¹Ø± (â‚¬)" min="0.01" step="0.01">
        <button type="submit" class="btn btn-primary">Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù†ØªØ¬</button>
      </form>
    </div>

    <!-- Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª -->
    <div class="section-box">
      <div class="flex justify-between items-center mb-4">
        <h4 class="text-xl font-bold">Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</h4>
        <button id="exportProductsBtn" class="btn btn-primary btn-sm">ØªØµØ¯ÙŠØ± Excel</button>
      </div>
      <input id="productSearch" class="form-control mb-3" type="text" placeholder="Ø¨Ø­Ø« Ø¹Ù† Ù…Ù†ØªØ¬...">
      <div id="productsArea"><p class="text-gray-500 text-center">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù†ØªØ¬Ø§Øª Ø¨Ø¹Ø¯.</p></div>
    </div>

    <!-- Ø¹Ù†Ø§ØµØ± Ø§Ù„Ø¹Ø±Ø¶ -->
    <div class="section-box">
      <h4 class="text-xl font-bold mb-4">Ø¹Ù†Ø§ØµØ± Ø§Ù„Ø·Ù„Ø¨</h4>
      <div id="offerItems"><p class="text-gray-500 text-center">Ù„Ù… ÙŠØªÙ… Ø¥Ø¶Ø§ÙØ© Ø£ÙŠ Ù…Ù†ØªØ¬Ø§Øª Ù„Ù„Ø·Ù„Ø¨.</p></div>
    </div>

    <!-- Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø¹Ø±Ø¶ -->
    <div class="section-box">
      <h4 class="text-xl font-bold mb-4">Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø·Ù„Ø¨</h4>
      <div class="grid grid-cols-1 md-grid-cols-3 gap-4">
        <input id="customerName" type="text" class="form-control" placeholder="Ø§Ø¯Ø®Ù„ Ø§Ø³Ù…Ùƒ">
        <input id="customerWhatsApp" type="text" class="form-control" placeholder="Ø±Ù‚Ù… ÙˆØ§ØªØ³Ø§Ø¨ Ù„Ù„ØªÙˆØ§ØµÙ„">
        <input id="deliveryAddress" type="text" class="form-control" placeholder="Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ØªÙˆØµÙŠÙ„">
      </div>

      <h4 class="mt-4 text-lg font-bold">
        Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ: <span id="total" class="text-blue-600">0.00</span> â‚¬
      </h4>

      <div class="grid grid-cols-1 md-grid-cols-2 gap-4 mt-4">
        <button id="showPreviewBtn" class="btn btn-success" disabled>Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„Ø·Ù„Ø¨</button>
        <div class="flex flex-col gap-2">
          <input id="randomOfferMax" type="number" class="form-control" value="40" min="0" step="0.01">
          <button id="generateRandomOfferBtn" class="btn btn-indigo">Ø¥Ù†Ø´Ø§Ø¡ Ø·Ù„Ø¨ Ø¹Ø´ÙˆØ§Ø¦ÙŠ</button>
        </div>
      </div>
    </div>

    <!-- Ø§Ù„Ù…Ø¹Ø§ÙŠÙ†Ø© -->
    <div class="section-box">
      <h4 class="text-xl font-bold mb-4">Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„Ø·Ù„Ø¨</h4>
      <div id="preview"><p class="text-gray-500">Ù‚Ù… Ø¨Ø¥Ù†Ø´Ø§Ø¡ Ø·Ù„Ø¨ Ù„Ù„Ù…Ø¹Ø§ÙŠÙ†Ø©.</p></div>
      <button id="downloadImageBtn" class="btn btn-primary mt-4" disabled>ØªØµØ¯ÙŠØ± ÙƒØµÙˆØ±Ø©</button>
    </div>

  </div>

  <script>
    /* helper to generate unique ids */
    function generateId() { return Date.now().toString(36) + Math.random().toString(36).slice(2); }

    /* ======== Ù…Ù†ØªØ¬Ø§Øª Ù…Ø¶Ø§ÙØ© Ù…Ø³Ø¨Ù‚Ø§Ù‹ (ÙƒÙ…Ø§ Ø·Ù„Ø¨Øª) ======== */
    let products = [
      /* ================= Ù…ÙˆØ§Ø¯ ØºØ°Ø§Ø¦ÙŠØ© ================= */
      {id: generateId(), name:"Ù„ÙˆØ² Ù…Ù‚Ø´ÙˆØ±", category:"Ù…ÙˆØ§Ø¯ ØºØ°Ø§Ø¦ÙŠØ©", price:12.50},
      {id: generateId(), name:"ÙƒØ§Ø¬Ùˆ", category:"Ù…ÙˆØ§Ø¯ ØºØ°Ø§Ø¦ÙŠØ©", price:10.45},
      {id: generateId(), name:"Ø¬ÙˆØ² Ù‡Ù†Ø¯ ÙØ±Ø·", category:"Ù…ÙˆØ§Ø¯ ØºØ°Ø§Ø¦ÙŠØ©", price:6.70},
      {id: generateId(), name:"Ø³Ù…Ø³Ù…", category:"Ù…ÙˆØ§Ø¯ ØºØ°Ø§Ø¦ÙŠØ©", price:3.35},
      {id: generateId(), name:"Ø­Ù…Øµ", category:"Ù…ÙˆØ§Ø¯ ØºØ°Ø§Ø¦ÙŠØ©", price:3.35},
      {id: generateId(), name:"ÙØ§ØµÙˆÙ„ÙŠØ§Ø¡ Ù…ØµØ±ÙŠØ©", category:"Ù…ÙˆØ§Ø¯ ØºØ°Ø§Ø¦ÙŠØ©", price:2.10},
      {id: generateId(), name:"Ø²ÙŠØª 4 Ù„ØªØ±", category:"Ù…ÙˆØ§Ø¯ ØºØ°Ø§Ø¦ÙŠØ©", price:8.35},
      {id: generateId(), name:"Ø²ÙŠØª 1 Ù„ØªØ±", category:"Ù…ÙˆØ§Ø¯ ØºØ°Ø§Ø¦ÙŠØ©", price:2.10},
      {id: generateId(), name:"Ø²ÙŠØª Ø²ÙŠØªÙˆÙ† Ø³ÙŠØ¯ÙŠ Ù‡Ø´Ø§Ù… 250Øº", category:"Ù…ÙˆØ§Ø¯ ØºØ°Ø§Ø¦ÙŠØ©", price:2.10},
      {id: generateId(), name:"Ø²ÙŠØªÙˆÙ† Ø£Ø®Ø¶Ø±", category:"Ù…ÙˆØ§Ø¯ ØºØ°Ø§Ø¦ÙŠØ©", price:2.95},
      {id: generateId(), name:"Ø²ÙŠØªÙˆÙ† Ø£Ø³ÙˆØ¯ Ù…ÙƒÙ„Ø³", category:"Ù…ÙˆØ§Ø¯ ØºØ°Ø§Ø¦ÙŠØ©", price:2.95},
      {id: generateId(), name:"Ø²Ø¨Ø¯Ø© Ù„ÙˆØ±Ø¨Ø§Ùƒ", category:"Ù…ÙˆØ§Ø¯ ØºØ°Ø§Ø¦ÙŠØ©", price:2.95},
      {id: generateId(), name:"Ø²Ø¨Ø¯Ø© Ø·ÙŠØ¨Ø©", category:"Ù…ÙˆØ§Ø¯ ØºØ°Ø§Ø¦ÙŠØ©", price:0.50},
      {id: generateId(), name:"Ø²Ø¨Ø¯Ø© Ø£ÙˆÙ†Ø§", category:"Ù…ÙˆØ§Ø¯ ØºØ°Ø§Ø¦ÙŠØ©", price:0.60},
      {id: generateId(), name:"Ø³Ù…Ù†Ø© Ø§Ù„Ø£ØµÙŠÙ„ 1ÙƒØº", category:"Ù…ÙˆØ§Ø¯ ØºØ°Ø§Ø¦ÙŠØ©", price:4.20},
      {id: generateId(), name:"Ø³Ù…Ù†Ø© Ø§Ù„Ø£ØµÙŠÙ„ 2ÙƒØº", category:"Ù…ÙˆØ§Ø¯ ØºØ°Ø§Ø¦ÙŠØ©", price:8.35},
      {id: generateId(), name:"Ø³Ù…Ù†Ø© ÙƒÙ„Ø§Ø±Ø§ 1ÙƒØº", category:"Ù…ÙˆØ§Ø¯ ØºØ°Ø§Ø¦ÙŠØ©", price:2.95},
      {id: generateId(), name:"Ø³Ù…Ù†Ø© ÙƒÙ„Ø§Ø±Ø§ 2ÙƒØº", category:"Ù…ÙˆØ§Ø¯ ØºØ°Ø§Ø¦ÙŠØ©", price:5.85},
      {id: generateId(), name:"Ø³Ù…Ù†Ø© Ù…Ø±ØºØ±ÙŠØªØ§ 1ÙƒØº", category:"Ù…ÙˆØ§Ø¯ ØºØ°Ø§Ø¦ÙŠØ©", price:2.95},
      {id: generateId(), name:"Ø³Ù…Ù†Ø© Ù…Ø±ØºØ±ÙŠØªØ§ 2ÙƒØº", category:"Ù…ÙˆØ§Ø¯ ØºØ°Ø§Ø¦ÙŠØ©", price:5.85},
      {id: generateId(), name:"Ø³Ù…Ù†Ø© Ø§Ù„Ø®ÙŠØ± 1ÙƒØº", category:"Ù…ÙˆØ§Ø¯ ØºØ°Ø§Ø¦ÙŠØ©", price:2.95},
      {id: generateId(), name:"Ø³Ù…Ù†Ø© Ø§Ù„Ø®ÙŠØ± 2ÙƒØº", category:"Ù…ÙˆØ§Ø¯ ØºØ°Ø§Ø¦ÙŠØ©", price:58.35},
      {id: generateId(), name:"Ù…Ø±ØªØ¯ÙŠÙ„Ø§ Ø§Ù„ØªØºØ°ÙŠØ©", category:"Ù…ÙˆØ§Ø¯ ØºØ°Ø§Ø¦ÙŠØ©", price:1.50},
      {id: generateId(), name:"Ù‡Ù†Ø§ ØµØºÙŠØ±", category:"Ù…ÙˆØ§Ø¯ ØºØ°Ø§Ø¦ÙŠØ©", price:0.70},
      {id: generateId(), name:"Ù‡Ù†Ø§ ÙˆØ³Ø·", category:"Ù…ÙˆØ§Ø¯ ØºØ°Ø§Ø¦ÙŠØ©", price:1.20},
      {id: generateId(), name:"Ø·ÙˆÙ† Ø³ÙŠØ¯ÙŠ Ù‡Ø´Ø§Ù… Ø­Ù„Ùˆ", category:"Ù…ÙˆØ§Ø¯ ØºØ°Ø§Ø¦ÙŠØ©", price:1.20},
      {id: generateId(), name:"Ø·ÙˆÙ† Ø³ÙŠØ¯ÙŠ Ù‡Ø´Ø§Ù… Ø­Ø§Ø±", category:"Ù…ÙˆØ§Ø¯ ØºØ°Ø§Ø¦ÙŠØ©", price:1.20},
      {id: generateId(), name:"Ø·ÙˆÙ† Ù„ÙŠÙˆ Ø­Ù„Ùˆ", category:"Ù…ÙˆØ§Ø¯ ØºØ°Ø§Ø¦ÙŠØ©", price:1.05},
      {id: generateId(), name:"Ø·ÙˆÙ† Ù„ÙŠÙˆ Ø­Ø§Ø±", category:"Ù…ÙˆØ§Ø¯ ØºØ°Ø§Ø¦ÙŠØ©", price:1.05},
      {id: generateId(), name:"Ø³Ø±Ø¯ÙŠÙ† Ù…ØºØ±Ø¨ÙŠ Ø­Ù„Ùˆ", category:"Ù…ÙˆØ§Ø¯ ØºØ°Ø§Ø¦ÙŠØ©", price:0.75},
      {id: generateId(), name:"Ø³Ø±Ø¯ÙŠÙ† Ù…ØºØ±Ø¨ÙŠ Ø­Ø§Ø±", category:"Ù…ÙˆØ§Ø¯ ØºØ°Ø§Ø¦ÙŠØ©", price:0.75},
      {id: generateId(), name:"Ø±Ø² Ù…ØµØ±ÙŠ", category:"Ù…ÙˆØ§Ø¯ ØºØ°Ø§Ø¦ÙŠØ©", price:1.00},
      {id: generateId(), name:"Ø±Ø² ØªØ§ÙŠÙ„Ù†Ø¯ÙŠ Ø­Ø¨Ø© Ø·ÙˆÙŠÙ„Ø©", category:"Ù…ÙˆØ§Ø¯ ØºØ°Ø§Ø¦ÙŠØ©", price:1.00},
      {id: generateId(), name:"Ø±Ø² ÙƒØ±ÙŠÙ…ÙŠ Ù…Ø­Ù…ÙˆØ¯", category:"Ù…ÙˆØ§Ø¯ ØºØ°Ø§Ø¦ÙŠØ©", price:1.50},
      {id: generateId(), name:"Ø¨Ø±ØºÙ„ Ø®Ø´Ù†", category:"Ù…ÙˆØ§Ø¯ ØºØ°Ø§Ø¦ÙŠØ©", price:0.85},
      {id: generateId(), name:"Ø¨Ø±ØºÙ„ Ù†Ø§Ø¹Ù…", category:"Ù…ÙˆØ§Ø¯ ØºØ°Ø§Ø¦ÙŠØ©", price:0.85},
      {id: generateId(), name:"Ø¹Ø¯Ø³ Ù…Ø¬Ø±ÙˆØ´", category:"Ù…ÙˆØ§Ø¯ ØºØ°Ø§Ø¦ÙŠØ©", price:1.25},
      {id: generateId(), name:"Ø¹Ø¯Ø³ Ø£Ø³ÙˆØ¯", category:"Ù…ÙˆØ§Ø¯ ØºØ°Ø§Ø¦ÙŠØ©", price:1.25},
      {id: generateId(), name:"Ø³ÙƒØ±", category:"Ù…ÙˆØ§Ø¯ ØºØ°Ø§Ø¦ÙŠØ©", price:0.75},
      {id: generateId(), name:"Ø·Ø­ÙŠÙ†", category:"Ù…ÙˆØ§Ø¯ ØºØ°Ø§Ø¦ÙŠØ©", price:0.70},
      {id: generateId(), name:"Ø³Ù…ÙŠØ¯", category:"Ù…ÙˆØ§Ø¯ ØºØ°Ø§Ø¦ÙŠØ©", price:0.85},
      {id: generateId(), name:"Ù…Ø¹ÙƒØ±ÙˆÙ†Ø© Ø¨Ø§Ø´ÙƒØ§Ù„Ø§", category:"Ù…ÙˆØ§Ø¯ ØºØ°Ø§Ø¦ÙŠØ©", price:0.95},
      {id: generateId(), name:"Ø´Ø¹ÙŠØ±ÙŠØ©", category:"Ù…ÙˆØ§Ø¯ ØºØ°Ø§Ø¦ÙŠØ©", price:0.95},
      {id: generateId(), name:"Ù…Ø±Ø¨Ù‰ Ø®Ø¶Ø±Ø§ÙˆÙŠ Ù…Ø´Ù…Ø´", category:"Ù…ÙˆØ§Ø¯ ØºØ°Ø§Ø¦ÙŠØ©", price:0.85},
      {id: generateId(), name:"Ù…Ø±Ø¨Ù‰ Ø®Ø¶Ø±Ø§ÙˆÙŠ ØªÙ…Ø±", category:"Ù…ÙˆØ§Ø¯ ØºØ°Ø§Ø¦ÙŠØ©", price:0.85},
      {id: generateId(), name:"Ø­Ù„Ø§ÙˆØ© Ø§Ù„Ø¨Ø±Ø¬ 400Øº", category:"Ù…ÙˆØ§Ø¯ ØºØ°Ø§Ø¦ÙŠØ©", price:2.20},
      {id: generateId(), name:"Ø­Ù„Ø§ÙˆØ© Ø§Ù„Ø¨Ø±Ø¬ 800Øº", category:"Ù…ÙˆØ§Ø¯ ØºØ°Ø§Ø¦ÙŠØ©", price:4.20},
      {id: generateId(), name:"Ø±Ø§Ø­Ø© Ø²Ù‡Ø± Ø§Ù„Ø¨Ø§Ù†", category:"Ù…ÙˆØ§Ø¯ ØºØ°Ø§Ø¦ÙŠØ©", price:0.70},
      {id: generateId(), name:"ÙƒØªØ´Ø¨", category:"Ù…ÙˆØ§Ø¯ ØºØ°Ø§Ø¦ÙŠØ©", price:0.60},
      {id: generateId(), name:"ÙƒÙˆÙØ±", category:"Ù…ÙˆØ§Ø¯ ØºØ°Ø§Ø¦ÙŠØ©", price:0.50},
      {id: generateId(), name:"Ù‡ÙˆØª Ø´ÙˆÙƒÙ„Øª Ø§Ù„Ø­Ù…ÙˆÙŠ", category:"Ù…ÙˆØ§Ø¯ ØºØ°Ø§Ø¦ÙŠØ©", price:0.21},
      {id: generateId(), name:"Ù£Ø¨Ù¡ Ø§Ù„Ø­Ù…ÙˆÙŠ", category:"Ù…ÙˆØ§Ø¯ ØºØ°Ø§Ø¦ÙŠØ©", price:0.17},
      {id: generateId(), name:"Ù‚Ù‡ÙˆØ© Ø³Ø±ÙŠØ¹Ø© Ø§Ù„ØªØ­Ø¶ÙŠØ± Ø§Ù„Ø­Ù…ÙˆÙŠ", category:"Ù…ÙˆØ§Ø¯ ØºØ°Ø§Ø¦ÙŠØ©", price:0.08},
      {id: generateId(), name:"Ø¨Ù† Ø§Ù„Ø´Ø§Ù…ÙŠ Ø§ÙƒØ³ØªØ±Ø§ 500Øº", category:"Ù…ÙˆØ§Ø¯ ØºØ°Ø§Ø¦ÙŠØ©", price:8.35},
      {id: generateId(), name:"Ø¨Ù† Ø§Ù„Ø´Ø§Ù…ÙŠ Ø§ÙƒØ³ØªØ±Ø§ 200Øº", category:"Ù…ÙˆØ§Ø¯ ØºØ°Ø§Ø¦ÙŠØ©", price:3.35},
      {id: generateId(), name:"Ø¨Ù† Ø§Ù„Ø´Ø§Ù…ÙŠ ÙƒÙŠØ³ 10 ØºÙ„ÙˆØ© Ø§ÙƒØ³ØªØ±Ø§", category:"Ù…ÙˆØ§Ø¯ ØºØ°Ø§Ø¦ÙŠØ©", price:3.35},
      {id: generateId(), name:"Ø¨Ù† Ø§Ù„Ø´Ø§Ù…ÙŠ Ù‚Ù‡ÙˆØ© Ù…Ø±Ø©", category:"Ù…ÙˆØ§Ø¯ ØºØ°Ø§Ø¦ÙŠØ©", price:1.25},
      {id: generateId(), name:"Ø¨Ù† Ø§Ù„Ø­Ù…ÙˆÙŠ Ù‡Ø§Ù„ Ø§ÙƒØ³ØªØ±Ø§ ØºØ§Ù…Ù‚ 200Øº", category:"Ù…ÙˆØ§Ø¯ ØºØ°Ø§Ø¦ÙŠØ©", price:3.05},
      {id: generateId(), name:"Ø¨Ù† Ø§Ù„Ø­Ù…ÙˆÙŠ Ø§ÙƒØ³ØªØ±Ø§ 200Øº", category:"Ù…ÙˆØ§Ø¯ ØºØ°Ø§Ø¦ÙŠØ©", price:3.35},
      {id: generateId(), name:"Ø¨Ù† Ø§Ù„Ø­Ù…ÙˆÙŠ ÙƒÙ„Ø§Ø³ÙŠÙƒ 200Øº", category:"Ù…ÙˆØ§Ø¯ ØºØ°Ø§Ø¦ÙŠØ©", price:2.95},
      {id: generateId(), name:"Ø¨Ù† Ø§Ù„Ø­Ù…ÙˆÙŠ Ø¨Ø±Ø§ÙŠØª 200Øº", category:"Ù…ÙˆØ§Ø¯ ØºØ°Ø§Ø¦ÙŠØ©", price:2.50},
      {id: generateId(), name:"Ø¨Ù† Ø§Ù„Ø­Ù…ÙˆÙŠ Ù…ÙˆÙƒØ§ 200Øº", category:"Ù…ÙˆØ§Ø¯ ØºØ°Ø§Ø¦ÙŠØ©", price:2.35},

      /* =============== Ø£Ù„Ø¨Ø§Ù† =============== */
      {id: generateId(), name:"Ø¬Ø¨Ù†Ø© Ø§Ù„Ù…Ø±Ø§Ø¹ÙŠ Ø¯Ù‡Ù†", category:"Ø£Ù„Ø¨Ø§Ù†", price:1.25},
      {id: generateId(), name:"Ø¬Ø¨Ù†Ø© ØºÙˆØ¯ÙŠ Ø¯Ù‡Ù†", category:"Ø£Ù„Ø¨Ø§Ù†", price:1.20},
      {id: generateId(), name:"Ø¬Ø¨Ù†Ø© Ø§Ù„Ø³Ù‡ÙˆÙ„ Ø¯Ù‡Ù†", category:"Ø£Ù„Ø¨Ø§Ù†", price:1.70},
      {id: generateId(), name:"Ø¬Ø¨Ù†Ø© Ù†ÙŠÙˆ Ø¨Ø§Ø±Ùƒ Ø¯Ù‡Ù†", category:"Ø£Ù„Ø¨Ø§Ù†", price:0.95},
      {id: generateId(), name:"Ù„Ø¨Ù†Ø© Ù†ÙŠÙˆØ¨Ø§Ø±Ùƒ", category:"Ø£Ù„Ø¨Ø§Ù†", price:1.20},
      {id: generateId(), name:"Ù„Ø¨Ù†Ø© Ù…Ø¯Ø¹Ø¨Ù„Ø© Ø§Ù„Ø¨Ù‚Ø±Ø© Ø§Ù„Ù…Ø´Ø§ÙƒØ³Ø© 1.4ÙƒØº", category:"Ø£Ù„Ø¨Ø§Ù†", price:3.80},
      {id: generateId(), name:"Ø¬Ø¨Ù†Ø© ÙƒÙŠØ±ÙŠ 6 Ø£Ù‚Ø±Ø§Øµ", category:"Ø£Ù„Ø¨Ø§Ù†", price:1.85},
      {id: generateId(), name:"Ø¬Ø¨Ù†Ø© Ø£Ø¨Ùˆ Ø§Ù„ÙˆÙ„Ø¯ 8 Ø£Ù‚Ø±Ø§Øµ", category:"Ø£Ù„Ø¨Ø§Ù†", price:1.25},
      {id: generateId(), name:"Ø¬Ø¨Ù†Ø© Ù‚Ø´Ù‚ÙˆØ§Ù† Ù„Ù…Ø© Ø§Ù„Ø¹ÙŠÙ„Ø© 250Øº", category:"Ø£Ù„Ø¨Ø§Ù†", price:1.70},
      {id: generateId(), name:"Ø¬Ø¨Ù†Ø© Ø¯Ù‡Ù† ÙØ±Ø·", category:"Ø£Ù„Ø¨Ø§Ù†", price:2.95},
      {id: generateId(), name:"Ø¬Ø¨Ù†Ø© Ø¨ÙŠØ¶Ø§Ø¡ ÙØ±Ø·", category:"Ø£Ù„Ø¨Ø§Ù†", price:4.20},
      {id: generateId(), name:"Ø¬Ø¨Ù†Ø© Ù…Ø´Ù„Ù„Ø© ÙØ±Ø·", category:"Ø£Ù„Ø¨Ø§Ù†", price:6.70},

      /* =============== Ù…Ø´Ø±ÙˆØ¨Ø§Øª =============== */
      {id: generateId(), name:"Ø´Ø§ÙŠ ÙƒØ§Ù…Ø¨Ùˆ 25Ø¸", category:"Ù…Ø´Ø±ÙˆØ¨Ø§Øª", price:0.60},
      {id: generateId(), name:"Ø´Ø§ÙŠ Ø³ÙŠØ¯ÙŠ Ù‡Ø´Ø§Ù… 25Ø¸", category:"Ù…Ø´Ø±ÙˆØ¨Ø§Øª", price:0.95},
      {id: generateId(), name:"Ø´Ø§ÙŠ Ø§Ù„ÙƒØ±Ø²Ø© 25Ø¸", category:"Ù…Ø´Ø±ÙˆØ¨Ø§Øª", price:0.95},
      {id: generateId(), name:"Ø´Ø§ÙŠ Ø³ÙŠØ¯ÙŠ Ù‡Ø´Ø§Ù… 90Øº", category:"Ù…Ø´Ø±ÙˆØ¨Ø§Øª", price:0.95},
      {id: generateId(), name:"ÙƒÙˆÙ„Ø§ Ø¹Ø§Ø¦Ù„ÙŠ Ù…Ø§Ø³ØªØ±", category:"Ù…Ø´Ø±ÙˆØ¨Ø§Øª", price:1.00},
      {id: generateId(), name:"ÙƒÙˆÙ„Ø§ ÙˆØ³Ø· Ù…Ø§Ø³ØªØ±", category:"Ù…Ø´Ø±ÙˆØ¨Ø§Øª", price:0.65},
      {id: generateId(), name:"ÙƒÙˆÙ„Ø§ ØµØºÙŠØ± Ù…Ø§Ø³ØªØ±", category:"Ù…Ø´Ø±ÙˆØ¨Ø§Øª", price:0.35},
      {id: generateId(), name:"ÙƒÙˆÙ„Ø§ Ø¹Ø§Ø¦Ù„ÙŠ Ø¨ÙŠØ¨Ø³ÙŠ", category:"Ù…Ø´Ø±ÙˆØ¨Ø§Øª", price:1.35},
      {id: generateId(), name:"ÙƒÙˆÙ„Ø§ ÙˆØ³Ø· Ø¨ÙŠØ¨Ø³ÙŠ", category:"Ù…Ø´Ø±ÙˆØ¨Ø§Øª", price:0.70},
      {id: generateId(), name:"Ø¹ØµÙŠØ± Ø·Ø¨ÙŠØ¹ÙŠ ÙØ±ÙˆØªÙŠ 1 Ù„ØªØ±", category:"Ù…Ø´Ø±ÙˆØ¨Ø§Øª", price:0.95},
      {id: generateId(), name:"Ø¹ØµÙŠØ± Ø·Ø¨ÙŠØ¹ÙŠ 1.5 Ù„ØªØ±", category:"Ù…Ø´Ø±ÙˆØ¨Ø§Øª", price:1.35},
      {id: generateId(), name:"Ø¹ØµÙŠØ± ÙØ±ÙˆØªÙŠ Ù‚Ø²Ø§Ø²", category:"Ù…Ø´Ø±ÙˆØ¨Ø§Øª", price:0.45},
      {id: generateId(), name:"Ø±Ø§Ù†ÙŠ Ø­Ø¨ÙŠØ¨Ø§Øª ØªÙ†Ùƒ", category:"Ù…Ø´Ø±ÙˆØ¨Ø§Øª", price:0.45},
      {id: generateId(), name:"Ø§Ù„Ø¹Ø·Ø§Ø± Ø´Ø§ÙŠ Ø£Ø®Ø¶Ø±", category:"Ù…Ø´Ø±ÙˆØ¨Ø§Øª", price:1.50},
      {id: generateId(), name:"Ø§Ù„Ø¹Ø·Ø§Ø± ÙƒÙ…ÙˆÙ† ÙˆÙ„ÙŠÙ…ÙˆÙ†", category:"Ù…Ø´Ø±ÙˆØ¨Ø§Øª", price:1.50},
      {id: generateId(), name:"Ø§Ù„Ø¹Ø·Ø§Ø± Ø²Ù‡ÙˆØ±Ø§Øª Ø´Ø§Ù…ÙŠØ©", category:"Ù…Ø´Ø±ÙˆØ¨Ø§Øª", price:1.50},
      {id: generateId(), name:"Ø§Ù„Ø¹Ø·Ø§Ø± Ø¨Ø§Ø¨ÙˆÙ†Ø¬", category:"Ù…Ø´Ø±ÙˆØ¨Ø§Øª", price:1.50},

      /* =============== Ù…Ø¹Ø³Ù„ =============== */
      {id: generateId(), name:"Ù…Ø¹Ø³Ù„ Ù…Ø²Ø§ÙŠØ§ ØªÙØ§Ø­ØªÙŠÙ†", category:"Ù…Ø¹Ø³Ù„", price:1.00},
      {id: generateId(), name:"Ù…Ø¹Ø³Ù„ Ù…Ø²Ø§ÙŠØ§ ØªÙØ§Ø­ØªÙŠÙ† Ø¨Ø­Ø±ÙŠÙ†ÙŠ", category:"Ù…Ø¹Ø³Ù„", price:1.00},
      {id: generateId(), name:"Ù…Ø¹Ø³Ù„ Ø§Ù„ÙØ§Ø®Ø± ØªÙØ§Ø­ØªÙŠÙ†", category:"Ù…Ø¹Ø³Ù„", price:1.20},
      {id: generateId(), name:"Ù…Ø¹Ø³Ù„ Ù†Ø®Ù„Ø© ØªÙØ§Ø­ØªÙŠÙ†", category:"Ù…Ø¹Ø³Ù„", price:3.20},
      {id: generateId(), name:"Ù…Ø¹Ø³Ù„ Ù…Ø²Ø§ÙŠØ§ Ù„ÙŠÙ…ÙˆÙ† ÙˆÙ†Ø¹Ù†Ø¹", category:"Ù…Ø¹Ø³Ù„", price:1.00},
      {id: generateId(), name:"Ù…Ø¹Ø³Ù„ Ù…Ø²Ø§ÙŠØ§ Ø¹Ù„ÙƒØ© ÙˆÙ†Ø¹Ù†Ø¹", category:"Ù…Ø¹Ø³Ù„", price:1.00},

      /* =============== ØªÙˆØ§Ø¨Ù„ =============== */
      {id: generateId(), name:"ÙÙ„ÙÙ„ Ø£Ø³ÙˆØ¯ Ù†Ø§Ø¹Ù…", category:"ØªÙˆØ§Ø¨Ù„", price:10.45},
      {id: generateId(), name:"ÙƒÙ…ÙˆÙ† Ù†Ø§Ø¹Ù…", category:"ØªÙˆØ§Ø¨Ù„", price:6.25},
      {id: generateId(), name:"ÙƒÙ…ÙˆÙ† Ø­Ø¨", category:"ØªÙˆØ§Ø¨Ù„", price:6.25},
      {id: generateId(), name:"ÙƒØ¨Ø³Ø©", category:"ØªÙˆØ§Ø¨Ù„", price:6.25},
      {id: generateId(), name:"Ù…Ø´ÙƒÙ„Ø©", category:"ØªÙˆØ§Ø¨Ù„", price:6.25},
      {id: generateId(), name:"ÙƒØ²Ø¨Ø±Ø© Ù†Ø§Ø¹Ù…Ø©", category:"ØªÙˆØ§Ø¨Ù„", price:2.55},
      {id: generateId(), name:"Ù‚Ø±ÙØ© Ø®Ø´Ù†Ø©", category:"ØªÙˆØ§Ø¨Ù„", price:5.05},
      {id: generateId(), name:"Ù‚Ø±ÙØ© Ù†Ø§Ø¹Ù…Ø©", category:"ØªÙˆØ§Ø¨Ù„", price:5.05},
      {id: generateId(), name:"Ù†Ø¹Ù†Ø¹ ÙŠØ§Ø¨Ø³", category:"ØªÙˆØ§Ø¨Ù„", price:4.20},
      {id: generateId(), name:"ÙƒØ§Ø±ÙŠ", category:"ØªÙˆØ§Ø¨Ù„", price:4.20},
      {id: generateId(), name:"Ø­Ø¨Ø© Ø¨Ø±ÙƒØ©", category:"ØªÙˆØ§Ø¨Ù„", price:4.20},
      {id: generateId(), name:"ÙÙ„ÙŠÙÙ„Ø© Ø­Ù„ÙˆØ©", category:"ØªÙˆØ§Ø¨Ù„", price:5.05},
      {id: generateId(), name:"ÙÙ„ÙŠÙÙ„Ø© Ø­Ø§Ø±Ø©", category:"ØªÙˆØ§Ø¨Ù„", price:5.05},

      /* =============== Ù…Ù†ØªØ¬Ø§Øª ØªÙ†Ø¸ÙŠÙ =============== */
      {id: generateId(), name:"ÙÙˆØ· Ù„ÙŠØ¨Ø±Ø³", category:"Ù…Ù†ØªØ¬Ø§Øª ØªÙ†Ø¸ÙŠÙ", price:0.95},
      {id: generateId(), name:"ÙÙˆØ· ÙÙ†Ø·Ø´ 3ÙƒØº Ù‚ÙŠØ§Ø³ 3", category:"Ù…Ù†ØªØ¬Ø§Øª ØªÙ†Ø¸ÙŠÙ", price:8.35},
      {id: generateId(), name:"ÙÙˆØ· ÙÙ†Ø·Ø´ 3ÙƒØº Ù‚ÙŠØ§Ø³ 4", category:"Ù…Ù†ØªØ¬Ø§Øª ØªÙ†Ø¸ÙŠÙ", price:8.35},
      {id: generateId(), name:"ÙÙˆØ· ÙÙ†Ø·Ø´ 3ÙƒØº Ù‚ÙŠØ§Ø³ 5", category:"Ù…Ù†ØªØ¬Ø§Øª ØªÙ†Ø¸ÙŠÙ", price:8.35},
      {id: generateId(), name:"Ø´Ø§Ù…Ø¨Ùˆ Ø£ÙˆÙ„ÙŠÙØ§ Ø¹Ø±Ø¶ 400 Ù…Ù„ + 200 Ù…Ù„", category:"Ù…Ù†ØªØ¬Ø§Øª ØªÙ†Ø¸ÙŠÙ", price:2.50},
      {id: generateId(), name:"Ø´Ø§Ù…Ø¨Ùˆ Ù‡ÙŠØ¯ Ø£Ù†Ø¯ Ø´ÙˆÙ„Ø¯Ø±Ø²", category:"Ù…Ù†ØªØ¬Ø§Øª ØªÙ†Ø¸ÙŠÙ", price:2.95},
      {id: generateId(), name:"Ø´Ø§Ù…Ø¨Ùˆ ÙƒÙ„ÙŠØ³ØªÙˆ", category:"Ù…Ù†ØªØ¬Ø§Øª ØªÙ†Ø¸ÙŠÙ", price:2.10},
      {id: generateId(), name:"Ø´Ø§Ù…Ø¨Ùˆ ÙƒÙ„ÙŠØ±", category:"Ù…Ù†ØªØ¬Ø§Øª ØªÙ†Ø¸ÙŠÙ", price:2.50},
      {id: generateId(), name:"Ø´Ø§Ù…Ø¨Ùˆ Ø£Ø·ÙØ§Ù„ Ù‡Ø§Ù…ÙˆÙ„", category:"Ù…Ù†ØªØ¬Ø§Øª ØªÙ†Ø¸ÙŠÙ", price:2.10},
      {id: generateId(), name:"Ø¨Ù„Ø³Ù… Ù†ÙˆØ±Ø§", category:"Ù…Ù†ØªØ¬Ø§Øª ØªÙ†Ø¸ÙŠÙ", price:1.25},
      {id: generateId(), name:"Ø¯ÙˆØ§Ø¡ ØºØ³ÙŠÙ„ Ù†ÙˆØ±Ø§ 700Øº Ø£ÙˆØªÙˆÙ…Ø§ØªÙŠÙƒ", category:"Ù…Ù†ØªØ¬Ø§Øª ØªÙ†Ø¸ÙŠÙ", price:1.25},
      {id: generateId(), name:"Ø¯ÙˆØ§Ø¡ ØºØ³ÙŠÙ„ Ù†ÙˆØ±Ø§ 80Øº Ø¹Ø§Ø¯ÙŠ", category:"Ù…Ù†ØªØ¬Ø§Øª ØªÙ†Ø¸ÙŠÙ", price:0.20},
      {id: generateId(), name:"Ø¯ÙˆØ§Ø¡ ØºØ³ÙŠÙ„ Ù…Ø¯Ø§Ø± 80Øº Ø¹Ø§Ø¯ÙŠ", category:"Ù…Ù†ØªØ¬Ø§Øª ØªÙ†Ø¸ÙŠÙ", price:0.20},
      {id: generateId(), name:"Ù…Ø¹Ø·Ø± ÙƒØ±Ù…Ù„", category:"Ù…Ù†ØªØ¬Ø§Øª ØªÙ†Ø¸ÙŠÙ", price:1.00},
      {id: generateId(), name:"Ù…Ø¹Ø·Ø± Ù„ÙŠØªØ³", category:"Ù…Ù†ØªØ¬Ø§Øª ØªÙ†Ø¸ÙŠÙ", price:1.00},
      {id: generateId(), name:"Ù…Ø¹Ø·Ø± Ø§Ù„Ø¹Ø§ÙÙŠØ©", category:"Ù…Ù†ØªØ¬Ø§Øª ØªÙ†Ø¸ÙŠÙ", price:1.00},
      {id: generateId(), name:"Ù…Ø¹Ø·Ø± Ø¨ÙˆÙØ§Ù„Ùˆ", category:"Ù…Ù†ØªØ¬Ø§Øª ØªÙ†Ø¸ÙŠÙ", price:1.00},
      {id: generateId(), name:"Ø³Ø§Ø¦Ù„ Ø¬Ù„ÙŠ ÙƒØ±Ù…Ù„", category:"Ù…Ù†ØªØ¬Ø§Øª ØªÙ†Ø¸ÙŠÙ", price:1.00},
      {id: generateId(), name:"Ø³Ø§Ø¦Ù„ Ø¬Ù„ÙŠ Ù„ÙŠØªØ³", category:"Ù…Ù†ØªØ¬Ø§Øª ØªÙ†Ø¸ÙŠÙ", price:1.00},
      {id: generateId(), name:"Ø³Ø§Ø¦Ù„ Ø¬Ù„ÙŠ Ø¨ÙˆÙØ§Ù„Ùˆ", category:"Ù…Ù†ØªØ¬Ø§Øª ØªÙ†Ø¸ÙŠÙ", price:1.00},
      {id: generateId(), name:"ÙÙ„Ø§Ø´ Ù…Ø¯Ø§Ø±", category:"Ù…Ù†ØªØ¬Ø§Øª ØªÙ†Ø¸ÙŠÙ", price:0.70},
      {id: generateId(), name:"ÙƒÙ„ÙˆØ± ÙƒØ±Ù…Ù„", category:"Ù…Ù†ØªØ¬Ø§Øª ØªÙ†Ø¸ÙŠÙ", price:0.70},
      {id: generateId(), name:"ØµØ§Ø¨ÙˆÙ† Ø¨ÙˆÙØ§Ù„Ùˆ", category:"Ù…Ù†ØªØ¬Ø§Øª ØªÙ†Ø¸ÙŠÙ", price:0.50},
      {id: generateId(), name:"ØµØ§Ø¨ÙˆÙ† Ø§Ù„ÙˆØ²ÙŠØ±", category:"Ù…Ù†ØªØ¬Ø§Øª ØªÙ†Ø¸ÙŠÙ", price:0.20},
      {id: generateId(), name:"ØµØ§Ø¨ÙˆÙ† ØºØ§Ø± Ø§Ù„Ù…Ù„ÙƒØ© Ø§Ù„Ø£ØµÙ„ÙŠ", category:"Ù…Ù†ØªØ¬Ø§Øª ØªÙ†Ø¸ÙŠÙ", price:0.45},
      {id: generateId(), name:"ØµØ§Ø¨ÙˆÙ† Ø²Ù‡Ø± Ø§Ù„Ø²ÙŠØªÙˆÙ† Ø£Ø¨ÙŠØ¶", category:"Ù…Ù†ØªØ¬Ø§Øª ØªÙ†Ø¸ÙŠÙ", price:0.25},
      {id: generateId(), name:"Ø³ÙŠÙØ© Ø§Ù„Ø¹Ø§Ø¦Ù„Ø© Ø§Ù„Ø£ØµÙ„ÙŠØ©", category:"Ù…Ù†ØªØ¬Ø§Øª ØªÙ†Ø¸ÙŠÙ", price:0.45},

      /* =============== Ù…Ù†ØªØ¬Ø§Øª Ø£Ø®Ø±Ù‰ =============== */
      {id: generateId(), name:"ÙØ­Ù… Ø§Ù„Ø²Ø¹ÙŠÙ… Ø¬ÙˆØ² Ø§Ù„Ù‡Ù†Ø¯", category:"Ù…Ù†ØªØ¬Ø§Øª Ø£Ø®Ø±Ù‰", price:3.35},
      {id: generateId(), name:"ÙØ­Ù… Ø§Ù„Ù‡ÙŠØ¨Ø© Ø¬ÙˆØ² Ø§Ù„Ù‡Ù†Ø¯", category:"Ù…Ù†ØªØ¬Ø§Øª Ø£Ø®Ø±Ù‰", price:3.35},
      {id: generateId(), name:"ÙØ­Ù… Ø´ÙŠØ±ÙŠ", category:"Ù…Ù†ØªØ¬Ø§Øª Ø£Ø®Ø±Ù‰", price:1.00},
      {id: generateId(), name:"ÙØ­Ù… Ù…Ø±Ø¬Ø§Ù†Ø©", category:"Ù…Ù†ØªØ¬Ø§Øª Ø£Ø®Ø±Ù‰", price:0.25},
      {id: generateId(), name:"Ø³Ù„ÙØ§Ù† Ø§Ù„Ø£ØµÙŠÙ„", category:"Ù…Ù†ØªØ¬Ø§Øª Ø£Ø®Ø±Ù‰", price:0.45},
      {id: generateId(), name:"Ø¨ÙˆÙŠØ§ ÙƒØ§Øª Ø£Ø³ÙˆØ¯", category:"Ù…Ù†ØªØ¬Ø§Øª Ø£Ø®Ø±Ù‰", price:0.50},
      {id: generateId(), name:"ÙØ§Ø±Ø¨Ù† Ù…Ø±Ø¨Ø¹", category:"Ù…Ù†ØªØ¬Ø§Øª Ø£Ø®Ø±Ù‰", price:0.50},
      {id: generateId(), name:"Ù…ÙŠÙ… Ù…Ø±Ø¨Ø¹", category:"Ù…Ù†ØªØ¬Ø§Øª Ø£Ø®Ø±Ù‰", price:0.50},
      {id: generateId(), name:"Ù†ÙƒØ§Ø´Ø§Øª Ø£Ø°Ù† 200 Ø¹ÙˆØ¯", category:"Ù…Ù†ØªØ¬Ø§Øª Ø£Ø®Ø±Ù‰", price:0.25},
    ];

    /* Ø¨Ø§Ù‚ÙŠ Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª ÙˆØ§Ù„ÙˆØ¸Ø§Ø¦Ù */
    let offerItems = [];
    let searchTerm = "";
    let openCategories = {};
    let randomOfferMaxValue = 40;

    const productForm = document.getElementById("productForm");
    const productsArea = document.getElementById("productsArea");
    const pName = document.getElementById("pName");
    const pCat = document.getElementById("pCat");
    const pPrice = document.getElementById("pPrice");
    const offerDiv = document.getElementById("offerItems");
    const totalSpan = document.getElementById("total");
    const previewDiv = document.getElementById("preview");
    const searchInput = document.getElementById("productSearch");
    const showPreviewBtn = document.getElementById("showPreviewBtn");
    const downloadImageBtn = document.getElementById("downloadImageBtn");
    const generateRandomOfferBtn = document.getElementById("generateRandomOfferBtn");
    const randomOfferMaxInput = document.getElementById("randomOfferMax");
    const exportProductsBtn = document.getElementById("exportProductsBtn");

    function updateTotal() {
      let total = offerItems.reduce((sum,i)=>sum+i.price,0);
      totalSpan.textContent = total.toFixed(2);
      showPreviewBtn.disabled = offerItems.length===0;
      downloadImageBtn.disabled = offerItems.length===0;
    }

    function renderProducts() {
      productsArea.innerHTML="";
      let grouped={};
      products.forEach(p=>{
        if(searchTerm && !p.name.includes(searchTerm)) return;
        if(!grouped[p.category]) grouped[p.category]=[];
        grouped[p.category].push(p);
      });
      // Ø¶Ù…Ø§Ù† ØªØ±ØªÙŠØ¨ Ø§Ù„ÙØ¦Ø§Øª ÙÙŠ Ù†ÙØ³ ØªØ³Ù„Ø³Ù„ Ø§Ù„Ø§Ø¶Ø§ÙØ© (Ø­Ø³Ø¨ Ø§Ù„Ù…ÙØªØ§Ø­)
      Object.keys(grouped).forEach(cat=>{
        const catBox=document.createElement("div");
        const catHeader=document.createElement("div");
        catHeader.className="category-header";
        catHeader.innerHTML=`<span>${cat}</span><span>â–¼</span>`;
        catHeader.onclick=()=>{ openCategories[cat]=!openCategories[cat]; renderProducts(); };
        catBox.appendChild(catHeader);
        if(openCategories[cat]){
          grouped[cat].forEach(p=>{
            const item=document.createElement("div");
            item.className="product-row";
            item.innerHTML=`<span class="product-name">${p.name}</span><span class="product-price">${p.price.toFixed(2)} â‚¬</span><button class="add-btn-circle" onclick="addToOffer('${p.id}')">+</button>`;
            catBox.appendChild(item);
          });
        }
        productsArea.appendChild(catBox);
      });
      if(!products.length) productsArea.innerHTML=`<p class="text-gray-500 text-center">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù†ØªØ¬Ø§Øª Ø¨Ø¹Ø¯.</p>`;
    }

    function addToOffer(id){
      const product=products.find(p=>p.id===id);
      if(product) {
        offerItems.push({...product});
        renderOfferItems();
        updateTotal();
      }
    }
    function removeFromOffer(index){
      offerItems.splice(index,1);
      renderOfferItems();
      updateTotal();
    }
    function renderOfferItems(){
      if(!offerItems.length){ offerDiv.innerHTML=`<p class="text-gray-500 text-center">Ù„Ù… ÙŠØªÙ… Ø¥Ø¶Ø§ÙØ© Ø£ÙŠ Ù…Ù†ØªØ¬Ø§Øª Ù„Ù„Ø·Ù„Ø¨.</p>`; return; }
      offerDiv.innerHTML="";
      offerItems.forEach((item,index)=>{
        const div=document.createElement("div"); div.className="offer-item";
        div.innerHTML=`<p>${item.name}</p><p>${item.price.toFixed(2)} â‚¬</p><button class="btn btn-danger btn-sm" onclick="removeFromOffer(${index})">Ã—</button>`;
        offerDiv.appendChild(div);
      });
    }

    productForm.addEventListener("submit",e=>{
      e.preventDefault();
      if(!pName.value || !pPrice.value) return;
      products.push({id:generateId(), name:pName.value, category:pCat.value, price:parseFloat(pPrice.value)});
      pName.value=""; pPrice.value=""; renderProducts();
    });

    searchInput.addEventListener("input",()=>{ searchTerm=searchInput.value; renderProducts(); });

    showPreviewBtn.addEventListener("click",()=>{
      previewDiv.innerHTML=`
        <h3 class="font-bold text-xl mb-2">ğŸ’™ Ø³ÙÙŠØ± Ø§Ù„Ø´Ø§Ù… â€“ Ø·Ù„Ø¨ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</h3>
        <p><strong>Ø§Ù„Ø§Ø³Ù…:</strong> ${document.getElementById("customerName").value}</p>
        <p><strong>ÙˆØ§ØªØ³Ø§Ø¨:</strong> ${document.getElementById("customerWhatsApp").value}</p>
        <p><strong>Ø§Ù„Ø¹Ù†ÙˆØ§Ù†:</strong> ${document.getElementById("deliveryAddress").value}</p>
        <hr class="my-3">
        <div class="text-right w-full">
          ${offerItems.map(i=>`<div class='flex justify-between border-b py-1'><span>${i.name}</span><span>${i.price.toFixed(2)} â‚¬</span></div>`).join("")}
        </div>
        <h3 class="mt-4 text-lg font-bold">Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ: ${totalSpan.textContent} â‚¬</h3>
        <p class="text-sm text-gray-500 mt-2">ØªÙ†ÙˆÙŠÙ‡: Ù‚Ø¯ ØªÙƒÙˆÙ† Ù‡Ù†Ø§Ùƒ ØªÙƒÙ„ÙØ© ØªÙˆØµÙŠÙ„ ÙˆØ¹Ù…ÙˆÙ„Ø© ØªØ­ÙˆÙŠÙ„ ØªÙØ­Ø¯Ø¯ Ù„Ø§Ø­Ù‚Ø§Ù‹.</p>
      `;
    });

    randomOfferMaxInput.addEventListener("input",()=>{ randomOfferMaxValue=parseFloat(randomOfferMaxInput.value); });

    generateRandomOfferBtn.addEventListener("click",()=>{
      offerItems=[];
      const foodProducts=products.filter(p=>p.category==="Ù…ÙˆØ§Ø¯ ØºØ°Ø§Ø¦ÙŠØ©" && p.price<=randomOfferMaxValue);
      let total=0;
      const shuffled=[...foodProducts].sort(()=>Math.random()-0.5);
      for(let p of shuffled){ if(total+p.price<=randomOfferMaxValue){ offerItems.push(p); total+=p.price; } }
      renderOfferItems(); updateTotal(); showPreviewBtn.click();
    });

    /* ØªÙ†Ø²ÙŠÙ„ Ø§Ù„Ù…Ø¹Ø§ÙŠÙ†Ø© ÙƒØµÙˆØ±Ø© (ÙŠØªÙ… ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø²Ø± ÙˆÙ„ÙƒÙ† Ø³Ù†Ø¹Ø·ÙŠ ØªÙ†ÙÙŠØ° Ø¨Ø³ÙŠØ·) */
    downloadImageBtn.addEventListener("click",()=>{
      // ØªÙ†ÙÙŠØ° Ø¨Ø³ÙŠØ·: Ù†Ø³Ø® Ù†Øµ Ø§Ù„Ù…Ø¹Ø§ÙŠÙ†Ø© Ø¥Ù„Ù‰ Ù†Ø§ÙØ°Ø© Ø¬Ø¯ÙŠØ¯Ø© Ù„Ù„Ø·Ø¨Ø§Ø¹Ø©
      const w = window.open("", "_blank");
      w.document.write(`<html dir="rtl"><head><meta charset="utf-8"><title>Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„Ø·Ù„Ø¨</title></head><body>${previewDiv.innerHTML}</body></html>`);
      w.document.close();
      w.print();
    });

    /* Ø²Ø± ØªØµØ¯ÙŠØ± Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª ÙƒÙ€ CSV / Excel Ø¨Ø³ÙŠØ· */
    exportProductsBtn.addEventListener("click",()=>{
      const rows = [["Category","Name","Price"]];
      products.forEach(p=> rows.push([p.category, p.name, p.price.toFixed(2)]));
      const csvContent = rows.map(r=> r.map(c=> `"${String(c).replace(/"/g,'""')}"`).join(",")).join("\n");
      const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });
      const url = URL.createObjectURL(blob);
      const a = document.createElement("a");
      a.href = url;
      a.download = "products.csv";
      a.click();
      URL.revokeObjectURL(url);
    });

    /* ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø¨Ø­Ø« Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ ÙˆØ¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª */
    renderProducts();

  </script>

  <!-- Code injected by live-server (Ø¥Ù† ÙˆÙØ¬Ø¯) -->
<script>
	// <![CDATA[  <-- For SVG support
	if ('WebSocket' in window) {
		(function () {
			function refreshCSS() {
				var sheets = [].slice.call(document.getElementsByTagName("link"));
				var head = document.getElementsByTagName("head")[0];
				for (var i = 0; i < sheets.length; ++i) {
					var elem = sheets[i];
					var parent = elem.parentElement || head;
					parent.removeChild(elem);
					var rel = elem.rel;
					if (elem.href && typeof rel != "string" || rel.length == 0 || rel.toLowerCase() == "stylesheet") {
						var url = elem.href.replace(/(&|\?)_cacheOverride=\d+/, '');
						elem.href = url + (url.indexOf('?') >= 0 ? '&' : '?') + '_cacheOverride=' + (new Date().valueOf());
					}
					parent.appendChild(elem);
				}
			}
			var protocol = window.location.protocol === 'http:' ? 'ws://' : 'wss://';
			var address = protocol + window.location.host + window.location.pathname + '/ws';
			var socket = new WebSocket(address);
			socket.onmessage = function (msg) {
				if (msg.data == 'reload') window.location.reload();
				else if (msg.data == 'refreshcss') refreshCSS();
			};
			if (sessionStorage && !sessionStorage.getItem('IsThisFirstTime_Log_From_LiveServer')) {
				console.log('Live reload enabled.');
				sessionStorage.setItem('IsThisFirstTime_Log_From_LiveServer', true);
			}
		})();
	}
	else {
		console.error('Upgrade your browser. This Browser is NOT supported WebSocket for Live-Reloading.');
	}
	// ]]>
</script>

  <!-- Footer -->
  <footer style="text-align:center; padding:1rem; margin-top:2rem; font-size:0.875rem; color:#6b7280;">
    ØªÙ… ØªØ·ÙˆÙŠØ±Ù‡ Ø¨ÙˆØ³Ø§Ø·Ø© <strong>Ø£ÙŠÙ…Ù† Ø¨ÙƒÙˆØ±</strong> â€“ 
    <a href="https://www.behance.net/aymenbakkour" target="_blank" style="color:#2563eb; text-decoration:none;">Ù…Ø´Ø§Ù‡Ø¯Ø© Ø£Ø¹Ù…Ø§Ù„ÙŠ Ø¹Ù„Ù‰ Behance</a>
  </footer>

</body>
</html>